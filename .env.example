# ─────────────────────────────────────────────────────────────────────────────
# Mage AI — Environment Variables
# Copy this file to .env and fill in your values.
# .env is in .gitignore and will NOT be committed to the repository.
# In Dokploy, add these variables via the UI "Environment Variables" tab.
# ─────────────────────────────────────────────────────────────────────────────

# ── PostgreSQL ────────────────────────────────────────────────────────────────
POSTGRES_USER=mage
POSTGRES_PASSWORD=change_me_strong_password
POSTGRES_DB=mage

# ── Mage Core ─────────────────────────────────────────────────────────────────
ENV=production
MAGE_DATA_DIR=/home/src/mage_data
USER_CODE_PATH=/home/src/mage_data/default_repo

# ── Authentication ────────────────────────────────────────────────────────────
# Set to 1 to require users to log in (recommended for production)
REQUIRE_USER_AUTHENTICATION=1
# Set to 1 to enable fine-grained role-based access control
REQUIRE_USER_PERMISSIONS=0
# LOCAL | LDAP
AUTHENTICATION_MODE=LOCAL

# ── AI Providers ─────────────────────────────────────────────────────────────
# Feature flags (1 = enabled, 0 = disabled)
ENABLE_OPEN_AI=1
ENABLE_OPEN_AI_COMPATIBLE=1
ENABLE_HUGGING_FACE=0

# --- Option A: Standard OpenAI ---
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4o

# --- Option B: OpenAI-compatible provider (Ollama, Groq, Together AI, etc.) ---
# For Ollama running locally on the host:
#   OPENAI_API_KEY=ollama
#   OPENAI_BASE_URL=http://host.docker.internal:11434/v1
#   OPENAI_MODEL=llama3
#
# For Groq:
#   OPENAI_API_KEY=gsk_...
#   OPENAI_BASE_URL=https://api.groq.com/openai/v1
#   OPENAI_MODEL=llama-3.1-70b-versatile
#
# For Together AI:
#   OPENAI_API_KEY=...
#   OPENAI_BASE_URL=https://api.together.xyz/v1
#   OPENAI_MODEL=meta-llama/Llama-3-70b-chat-hf

OPENAI_API_KEY=
OPENAI_BASE_URL=
OPENAI_MODEL=gpt-4o

# ── Logging ───────────────────────────────────────────────────────────────────
# DEBUG | INFO | WARNING | ERROR
SERVER_VERBOSITY=WARNING

# ── Misc ──────────────────────────────────────────────────────────────────────
MAX_NUMBER_OF_FILE_VERSIONS=10
# How often (seconds) the scheduler checks for pipeline runs to trigger
SCHEDULER_TRIGGER_INTERVAL=10
